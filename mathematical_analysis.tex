\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{mathtools}
\usepackage{svg}
\begin{document}
\title{Preliminary Havven System Analysis}
\date{}

\begin{figure}
    \centering
    \includesvg[width=0.33\textwidth]{block8logo}
\end{figure}
\maketitle

\section{Discussion}

This section will provide an informal treatment of the proposed market's structure
and dynamics, while section 2 will scaffold out its structure with a little more
formality.

\begin{itemize}
    \item Fees should only be given to those who have actually issued nomins?
    \item How do we incentivise people to even transfer stuff.
    \item Utilisation ratio needs to have distinct parts. Number of escrowed curits is not quite the same as the number of issued nomins.
    \item Why not allow the system to maintain a pool of curits/nomins that it itself can buy/sell?
\end{itemize}

\subsection{Restatement of Purpose}
We want to make a stablecoin in order to provide a currency which is a viable medium of exchange.
Evidently, such a coin must have a relatively stable price. We will do this by allowing users to back it,
automatically expanding and contracting the money supply as the well of capital fluctuates in value.
To this end, we will provide two intertwined tokens.
\paragraph{Curits} The reserve tokens, which users buy to obtain a part share in the entire system. The holders
of this token are providing collateral for the system, and in so doing, assume some level of risk, but will
be rewarded with fees the system levies automatically as part of its usual operation. The capitalisation
of the reserve market reflects the value of the entire system.
\paragraph{Nomins} The exchange tokens. Philosophically, we would like the nomin to be a utilon, a constant
unit of utility, and so the system should stabilise its price in terms of some external, relatively-stable
currency. Each holder of curits is granted the right to issue their own nomins, in proportion with the value
of the curits they hold and are willing to escrow. If the user wishes to redeem their escrowed curits,
they must present the system with nomins, in order to freely trade them again. Other than just price stability,
the system should also encourage liquidity, if nomins are to be actually-useful as a medium of exchange.


\subsection{Investment incentives}
Why would anyone buy curits in the first place? A potential buyer of curits has at least three avenues for making
money in Havven.

\paragraph{Capital gains due to the appreciation of curits:}
Presumably the currency will appreciate due to a demand for curits that is founded in the intrinsic
utility of a stablecoin. Speculators will naturally be important players too.

\paragraph{Interest accrued from fees:}
If and when the price of curits stabilises, then this may be the only long term positive-expected
source of revenue. Ideally fees are set at a level where they are both high enough to be an incentive
for rent-seekers to hold curits in the long term (thus assuming the risk of providing collateral for
the system) and low enough not to be a disincentive for ordinary users to transact in nomins.
It is desirable, perhaps in a future world dominated by micropayments, for these fees to be
negligible for end users, while still being macroeconomically important for the system, and for those
who capitalise it.

\paragraph{Arbitrage profit:}
It is the arbitrageurs who will ultimately bring the price of nomins back into balance by a triangular circuit
through nomins, curits, and the external (crypto or fiat) markets. They might hold curits for a short time in order
to pursue this strategy.

\subsection{Fees}
There are a number of questions to be asked, and answered:
\begin{itemize}
    \item What are fees for?
    \item Who gets those fees?
    \item When can fees be levied?
    \item What macroeconomic effect does this levy have as a coin travels through the system?
\end{itemize}

\paragraph{The purpose of fees}
Fees will be redistributed to those who back the system, in order to incentivise people to capitalise it.
The fee pool will be distributed periodically, for this purpose.
However, if the system determines that the nomin price is too low, then fees could be burned. If the price is
too high then perhaps the system could sell these back into the system at a discounted rate.

\paragraph{Fee beneficiaries}

\paragraph{When fees can be collected}
The system can potentially charge fees whenever any value is transferred, or any state is updated.
There are only a few circumstances that these things happen:
\begin{itemize}
    \item Nomin transfers
    \item Curit transfers
    \item Nomin issuance
    \item Curit redemption
\end{itemize}
The fee schedule could be altered dynamically in order to stabilise the system. It's even conceivable
that the system could set negative fee rates if it needed to.

\subsection{Encouraging Liquidity}


\subsection{Motility}
We would like to know how likely a nomin is to be spent from a given account. Its motility should measure this.
Motility should be high if the paths out of it are long, and if the nodes sent to have high degree.
We don't like short cycles. We don't like isolated subgraphs. Would be cool if the money could go into the main
connected component of the transaction graph as quickly as possible, then circulate in there with high velocity. How about:

\[motility(a) := \frac{\sum_{p \in payees(a)}{value(a,p) \cdot motility(p)}}{\sum_{p \in payees(a)}{value(a,p)}} \]

Where \(value(a, p)\) will then be the weight on the edge in the transaction graph coresponding to a given transaction.
My motility will then be the weighted average of my neighbours.

PROBLEM: Doesn't account for lots of money coming in and hardly any going out.

Or iteratively, if I want to update my motility with a transaction to \(p\) of value \(v\), and I know my total sent value \(V_{out}\)...

\[motility_{send}(a, p, v) := \frac{motility(a) \cdot V_{out} + motility_{receive}'(a, p, v) \cdot v}{V_{out} + v} \]
\[motility_{receive}(a, p, v) := \frac{motility(a) \cdot V_{out}}{v \cdot V_{out}}\]




\subsection{Utilisation Ratio}


\subsection{Failure Modes}

\subsubsection{Liquidity Trap}
\subsubsection{Trapped Currency}

\section{System Variables}
\subsection{Quantities of Interest}
\paragraph{Money Supply}
\begin{align*}
    C & \ && \text{(curits)} && \text{ : Quantity of curits, should be constant} \\
    C_e &= C \cdot U \ && \text{(curits)} && \text{ : Quantity of reserved curits, i.e. the value of tokens have been issued against } \\
    N &= \frac{U_a \cdot C \cdot P_c}{P_n} \ && \text{(nomins)} && \text{ : Quantity of nomins. This can float.}
\end{align*}
\\

\paragraph{Utilisation Ratios} We should work out a good level for \(U_{max}\).
\begin{align*}
    U &= \frac{P_n \cdot N}{C_e \cdot P_c} \ && \text{(dimensionless)} && \text{ : Empirical issuance ratio. } \\
    U_{max} & \ && \text{(dimensionless)} && \text{ : Targeted issuance ratio ceiling. Ideally, } 0 \leq U \leq U_{max} \leq 1
\end{align*}
\\

\paragraph{Prices} These values are important, with the goal of stabilising the nomin price.
\begin{align*}
    P_c & \ && (\frac{\text{\$}}{\text{curits}}) && \text{ : curit price} \\
    P_n & \ && (\frac{\text{\$}}{\text{nomins}}) && \text{ : nomin price} \\
    P_c' &= \alpha \cdot f(V_n, V_v) \cdot R && (\frac{\text{\$}}{\text{nomins} \cdot \text{seconds}}) && \text{ : R a risk term incorporating volatility? \#buyers - \#sellers?})
\end{align*}
\\

\paragraph{Fees}
\[F_x, F_i, F_r \ \text{(dimensionless) : transfer, issuance, redemption fees; these should be ratios, e.g. 0.1\%}\]
\\

\paragraph{Money Movement}
\begin{align*}
    V_n &= S_n \cdot N \ && (\frac{nomins}{seconds}) && \text{ : nomin transfer rate} \\
    V_v &= V_i + V_r \ && (\frac{curits}{seconds}) && \text{ : nomin} \leftrightarrow \text{curit conversion rate.} \\
    V_i &= (C - C_e) \cdot S_i \ && (\frac{curits}{seconds}) && \text{ : nomin issuance rate. Assumed to grow as there are more free curits in the system (actually should probably grow with the number of escrowed but unissued nomins).} \\
    V_r &= C_e \cdot S_r \ && (\frac{curits}{seconds}) && \text{ : rate at which curits are redeemed in return for nomins (which are burned). Assumed to grow proportionally with the number of escrowed curits.}
\end{align*}
\\

\paragraph{Microeconomic Variables} These should be defined as functions of \(P_n, P_c, \text{fees, etc.}\)
\begin{align*}
S_n \ && (\frac{1}{\text{seconds}}) && \text{ : average nomin spend rate} \\
S_i \ && (\frac{1}{\text{seconds}}) && \text{ : average issuance rate} \\
S_r \ && (\frac{1}{\text{seconds}}) && \text{ : average redemption rate}
\end{align*}

\end{document}
